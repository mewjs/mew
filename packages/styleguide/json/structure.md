## 数据结构

### [强制] 一个成功的响应体必须包含 `code` 与 `data` 字段。

解释：

- `code` 表示状态，成功的响应值永远`等于 0`，取 0 是因为只有这一个数字可以用 `!json.code` 判断是否成功，在极致性能要求下还可以省略该字段而不影响判断代码。
- `data` 存放返回的数据

示例：

```json
// BAD
{
    "code": 0
}

{
    "data": true
}

{
    "code": 0,
    "info": "Server Error"
}

// GOOD
{
    "code": 0,
    "data": true
}
```

### [强制] 一个失败的响应体必须包含 `code` 与 `info`。

解释：

- `code` 表示状态，失败的响应值永远`大于 0`，`小于 1000`的正整数，即 [1, 999]，三位的正整数，某些应用场景，可能需要包含业务（项目）代码，可以增加固定位数的前缀，比如增加 **2** 位前缀表示 A 项目的代码：`11`，最后 A 项目服务出错时返回 `11503`
- `info` 存放相应的错误信息

Q：`code` 与 `HTTP Status Code` 的区别是什么？

A：`HTTP Status Code` 是协议层的错误约定，应遵守 HTTP 协议，`code` 可以看作是业务层的错误约定，为提高可读性，也应按 HTTP 协议的错误分类，比如客户端输入导致的错误，同样以 4xx 的形式，以帮助快速排查错误。

示例：

```json
// BAD
{
    "code": 1
}

{
    "info": true
}

{
    "code": 2,
    "data": "服务端异常"
}

// GOOD
{
    "code": 556,
    "info": "服务端异常"
}
```
